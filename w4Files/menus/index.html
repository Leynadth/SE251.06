<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Home</title>
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/home.css">
    <script src="https://code.jquery.com/jquery-3.7.0.min.js"></script>
</head>
<body>
    <nav><a href="index.html">HOME</a></nav>
    <main>
        <section class="blank"></section>
        <section id="content">
            <div id="menus">

                <!--<div style="display: none;" id="start-options">
                    <button data-load="false">New Game</button>
                    <button data-load="true">Continue</button>
                    <button>High Scores</button>
                </div>-->

            </div>
        </section>
        <section class="blank"></section>
    </main>
    <script src="js/User.js"></script>
    <script>
        var menus = document.querySelector(`#menus`);

        //loading icon code
        const loadDiv = document.createElement(`div`);
        loadDiv.setAttribute(`id`, `load`);
        menus.appendChild(loadDiv);
     
        //start menu created
        const startMenu = document.createElement(`div`);
        startMenu.setAttribute(`id`, `start`);
        startMenu.style.opacity =`0`;
        
        //Start button for start menu is created
        const startButton = document.createElement(`button`);
        startButton.appendChild(document.createTextNode(`start`));
        startMenu.appendChild(startButton);

        //create second menu
        const secMenu = document.createElement(`div`);
        secMenu.setAttribute(`id`, `start-options`);
        secMenu.style.opacity =`0`;
        //new game button for second menu
        const newGame = document.createElement(`button`);
        newGame.appendChild(document.createTextNode(`New Game`));
        secMenu.appendChild(newGame);

        //Continue button for new menu
        const resume = document.createElement(`button`);
        resume.appendChild(document.createTextNode(`Continue`));
        secMenu.appendChild(resume);
        //high score button for new menu
        const highScore = document.createElement(`button`);
        highScore.appendChild(document.createTextNode(`High Scores`));
        secMenu.appendChild(highScore);

        const highScores = document.createElement(`div`);
        highScores.setAttribute(`id`, `high-scores`);

        var timer = setTimeout(loadStartMenu, 1000);
        function loadStartMenu(){
            $(`#load`).animate({opacity: 0}, 2000, function() {
                menus.removeChild(loadDiv)
                menus.appendChild(startMenu)
                $(`#start`).animate({opacity: 1}, 2000);
            });
        }

        startButton.addEventListener(`click`, (e)=>{
            console.log(`hi`)
            $(`#start`).animate({opacity: 0}, 1000, function(){ //animated start menu to show up 
                menus.removeChild(startMenu) //removed the start menu when the button is cllicked
                menus.appendChild(secMenu) //add the second menu
                $(`#start-options`).animate({opacity: 1}, 500);// show the second menu

            });
        })

        //New game button link
        newGame.addEventListener(`click`, (e)=>{
            $(`#start-options`).animate({opacity: 0}, 1000, function(){//animated second menu to disappear 
                menus.removeChild(secMenu) //removed the start menu when the button is cllicked
                window.location = `lobby.html?${e.target.dataset.load}`//links the lobby file when click 
            });
        })

        //Continue button link
        resume.addEventListener(`click`, (e)=>{
            $(`#start-options`).animate({opacity: 0}, 1000, function(){ //animated second menu to disappear 
                menus.removeChild(secMenu) //removed the start menu when the button is cllicked
                window.location = `lobby.html?${e.target.dataset.load}`//links the lobby file when click 
            });
        })

        //High-Scores button link
        highScore.addEventListener(`click`, (e)=>{
            $(`#start-options`).animate({opacity: 0}, 1000, function(){ //animated second menu to disappear 
                menus.removeChild(secMenu) //removed the start menu when the button is cllicked
                window.location = `hs.html?${e.target.dataset.load}`//links the lobby file when click 
            });
        })
    </script>
</body>
</html>